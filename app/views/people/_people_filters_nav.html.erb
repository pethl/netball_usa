<%# app/views/people/_people_filters_nav.html.erb %>
<div data-controller="page-title" data-page-title-prefix-value="People">
  <div class="md:flex md:items-center md:justify-between space-y-2 md:space-y-0">

    <!-- Tabs -->
    <ul class="flex flex-wrap text-sm font-medium text-left text-gray-600">
      <% if params[:query].present? %>
        <li class="me-1">
          <span class="inline-block px-2 py-2 text-blue-900 font-semibold border-b-2 border-blue-900">Search Results</span>
        </li>
      <% end %>

      <% [
        ["All People", ["All", nil]],       
        ["Umpires (US)", ["Umpire", "US & Canada"]],
        ["Umpires (Int)", ["Umpire", "International"]],
        ["Coaches", ["Coach", nil]],
        ["Scorers", ["Scorer", nil]],
        ["Trainers & Ambassadors", ["Trainer", nil]],
        ["Operations", ["Operations", nil]],
        ["Volunteers", ["Volunteer", nil]],
        ["Inactive", [nil, nil, "Inactive"]]
      ].each do |label, (role, region, status)| %>
        <li class="me-1">
          <% is_active = params[:role] == role %>
          <% if role == "Umpire" %>
            <% is_active &&= (params[:region].presence || "") == (region.presence || "") %>
          <% end %>
          <% if status.present? %>
            <% is_active &&= (params[:status].presence || "") == (status.presence || "") %>
          <% end %>

          <%= link_to label,
              people_path({ role: role, status: status }.tap { |h| h[:region] = region if region.present? }),
              data: { turbo: false },  
              class: people_tab_class(is_active) %>
        </li>
      <% end %>
    </ul>

  </div>
</div>

