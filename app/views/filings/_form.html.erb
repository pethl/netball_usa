  <div class="sm:mx-auto sm:w-full sm:max-w-4xl">
    <div class="bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10">
      <%= form_with(model: filing) do |form| %>

        <%= form_errors_for(filing) %>

        <div class="grid grid-cols-1 gap-2 sm:grid-cols-2">

          <!-- CORPORATE NAME -->
          <div class="mb-2 sm:col-span-2">
            <%= form.label :corporate_name, class: label_class %>
            <div class="mt-1">
              <%= form.text_field :corporate_name, class: input_class %>
            </div>
          </div>

          <!-- TYPE -->
          <div class="mb-2">
            <%= form.label :filing_type, "Type of Filing", class: label_class %>
            <div class="mt-1">
              <%= form.select :filing_type,
                    filing_types,
                    { prompt: "Select" },
                    class: input_class %>
            </div>
          </div>

          <!-- FREQUENCY -->
          <div class="mb-2">
            <%= form.label :frequency, class: label_class %>
            <div class="mt-1">
              <%= form.select :frequency,
                    filing_frequency,
                    { prompt: "Select" },
                    class: input_class %>
            </div>
          </div>

          <!-- DAY OF MONTH -->
          <div class="mb-2">
            <%= form.label :day_of_month, "Due Day of Month", class: label_class %>
            <div class="mt-1">
              <%= form.number_field :day_of_month,
                    min: 1,
                    max: 31,
                    class: input_class %>
            </div>
          </div>

          <!-- MONTH OF YEAR (ANNUAL) -->
          <div class="mb-2">
            <%= form.label :month_of_year, "Due Month (Annual Only)", class: label_class %>
            <div class="mt-1">
              <%= form.select :month_of_year,
                    options_for_select((1..12).map { |m| [Date::MONTHNAMES[m], m] }, filing.month_of_year),
                    { prompt: "Select Month" },
                    class: input_class %>
            </div>
          </div>

        <!-- START DATE + COST + ACTIVE -->
          <div class="mb-2 mt-2 sm:col-span-2">
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-2 items-start">

              <!-- START DATE -->
              <div>
                <%= form.label :start_date, "Start Date (can be in the past)", class: label_class %>
                <div class="mt-1">
                  <%= form.date_field :start_date, class: input_class %>
                </div>
              </div>

              <!-- COST + UPDATE FUTURE -->
              <div>
                <%= form.label :cost, "Cost $", class: label_class %>

                <div class="mt-1">
                  <%= form.number_field :cost,
                        step: 0.01,
                        max: 99999.99,
                        class: input_class %>
                </div>

                <% if filing.persisted? %>
                  <label class="mt-1 flex items-center gap-2 text-xs text-gray-600">
                    <%= check_box_tag :update_future_costs, "1", true,
                          class: "w-3.5 h-3.5 text-blue-600 border-gray-300 rounded" %>
                    Update future occurrences
                  </label>
                <% end %>
              </div>

              <!-- ACTIVE -->
              <div class="flex flex-col">
                <%= form.label :active, "Active?", class: "text-sm font-medium text-gray-700 mb-1" %>
                <div class="h-10 flex items-center">
                  <%= form.check_box :active,
                        class: "w-5 h-5 text-blue-600 bg-gray-100 border-gray-300 rounded" %>
                </div>
              </div>

            </div>
          </div>



          <!-- WEBSITE -->
          <div class="mb-2 sm:col-span-2">
            <%= form.label :website, class: label_class %>
            <div class="mt-1">
              <%= form.text_field :website,
                    placeholder: "Enter with prefix http:// or https://",
                    class: input_class %>
            </div>
          </div>

          <!-- EXTERNAL SYSTEM ACCESS -->
          <div class="mb-2">
            <%= form.label :site_user_id, "Site User ID", class: label_class %>
            <div class="mt-1">
              <%= form.text_field :site_user_id, class: input_class %>
            </div>
          </div>

          <div class="mb-2">
            <%= form.label :site_password, "Site Password", class: label_class %>
            <div class="mt-1">
              <%= form.text_field :site_password, class: input_class %>
            </div>
          </div>

          <div class="mb-2">
            <%= form.label :site_email, "Site Email", class: label_class %>
            <div class="mt-1">
              <%= form.text_field :site_email, class: input_class %>
            </div>
          </div>

          <!-- NOTES -->
          <div class="mb-2 sm:col-span-2">
            <%= form.label :notes, class: label_class %>
            <div class="mt-1">
              <%= form.text_area :notes, class: input_class, rows: 4 %>
            </div>
          </div>

        </div>

        <div class="mt-4">
          <%= form.submit "Save Record", class: form_button_class %>
        </div>

      <% end %>
    </div>
  </div>
