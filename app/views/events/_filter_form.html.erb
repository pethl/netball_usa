<div class="relative ml-2 mr-4 mt-4 rounded-lg border border-gray-200 shadow-sm px-4 pt-4 pb-2 bg-gray-200">

  <!-- Legend badge -->
  <div class="absolute -top-3 right-4 bg-gray-200  rounded px-2 text-xs text-gray-600 font-semibold tracking-wide uppercase">
    Filter Events
  </div>

  <%= form_with(url: event_filter_path, method: :get, local: true, class: "flex flex-wrap gap-4 items-end") do %>

    <!-- Type Filter -->
    <div class="flex flex-col w-40">
      <%= label_tag :event_type, "Type", class: "text-sm font-medium text-gray-700" %>
      <%= select_tag :event_type,
            options_for_select(event_type, params[:event_type]),
            include_blank: "All Types",
            class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" %>
    </div>

    <!-- City Filter -->
    <div class="flex flex-col w-40">
      <%= label_tag :city, "City", class: "text-sm font-medium text-gray-700" %>
      <%= text_field_tag :city, params[:city],
            placeholder: "e.g. Atlanta",
            class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" %>
    </div>

    <!-- State Filter -->
    <div class="flex flex-col w-40">
      <%= label_tag :state, "State", class: "text-sm font-medium text-gray-700" %>
      <%= select_tag :state,
            options_for_select(us_states, params[:state]),
            include_blank: "All States",
            class: "mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm" %>
    </div>

    <!-- Buttons -->
    <div class="flex space-x-2 mt-1">
      <%= submit_tag "Filter",
            class: "px-4 py-2 text-sm font-semibold rounded-md bg-blue-800 text-white hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:outline-none" %>

      <%= link_to "Clear",
            events_path,
            class: "px-4 py-2 text-sm font-medium rounded-md bg-white border border-gray-300 text-gray-700 hover:bg-gray-100 focus:ring-2 focus:ring-blue-500 focus:outline-none" %>
    </div>

  <% end %>
</div>
