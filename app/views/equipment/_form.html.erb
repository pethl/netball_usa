<div class="sm:mx-auto sm:w-full sm:max-w-md max-w-md">
  <div class="bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10">

    <%= form_with(model: equipment) do |form| %>
      <%= form_errors_for(equipment) %>

      <!-- STATUS -->
      <div class="mb-6">
        <label class="<%= label_class %>">Status</label>

        <%= form.hidden_field :status %>

        <div class="mt-1">
          <input type="text"
                value="<%= equipment.status %>"
                disabled
                class="block w-full rounded-md border border-gray-300 bg-gray-100 px-3 py-2 text-gray-700 sm:text-sm" />
        </div>
      </div>

      <!-- SALE FIELDS -->
      <% if equipment.sale? %>

        <div class="mb-6">
          <%= form.label :sale_date, "Date of Sale", class: label_class %>
          <div class="mt-1">
            <%= form.date_field :sale_date, class: input_class %>
          </div>
        </div>

        <div class="mb-6">
          <%= form.label :items_purchased, class: label_class %>
          <div class="mt-1">
            <%= form.text_area :items_purchased, size: "20x10", class: input_class %>
          </div>
        </div>

        <div class="mb-6">
          <%= form.label :purchase_amount, class: label_class %>
          <div class="mt-1">
            <%= form.number_field :purchase_amount, step: 0.01, placeholder: "$ 0.00", class: small_input_class %>
          </div>
        </div>

        <% if equipment.customer_name.present? %>
          <div class="mb-6 border rounded-md p-4 bg-yellow-50">
            <p class="text-sm font-semibold text-gray-700 mb-2">
              Original Quote Customer Details
            </p>

            <div class="mb-3">
              <label class="<%= label_class %>">Customer Name</label>
              <input type="text"
                    value="<%= equipment.customer_name %>"
                    disabled
                    class="block w-full rounded-md border border-gray-300 bg-gray-100 px-3 py-2 text-gray-700 sm:text-sm" />
            </div>

            <% if equipment.customer_email.present? %>
              <div class="mb-3">
                <label class="<%= label_class %>">Customer Email</label>
                <input type="text"
                      value="<%= equipment.customer_email %>"
                      disabled
                      class="block w-full rounded-md border border-gray-300 bg-gray-100 px-3 py-2 text-gray-700 sm:text-sm" />
              </div>
            <% end %>

            <% if equipment.customer_address.present? %>
              <div>
                <label class="<%= label_class %>">Customer Address</label>
                <textarea disabled
                  class="block w-full rounded-md border border-gray-300 bg-gray-100 px-3 py-2 text-gray-700 sm:text-sm"><%= equipment.customer_address %></textarea>
              </div>
            <% end %>
          </div>
        <% end %>

      <% end %>

      <!-- QUOTE FIELDS -->
      <% if equipment.quote? %>

        <div class="mb-6">
          <label class="<%= label_class %>">Quote Created</label>
          <div class="mt-1">
            <input type="text"
                  value="<%= (equipment.created_at || Time.current).strftime('%d %b %Y %H:%M') %>"
                  disabled
                  class="block w-full rounded-md border border-gray-300 bg-gray-100 px-3 py-2 text-gray-700 sm:text-sm" />
          </div>
        </div>

        <div class="mb-6">
          <%= form.label :customer_name, class: label_class %>
          <div class="mt-1">
            <%= form.text_field :customer_name, class: input_class %>
          </div>
        </div>

        <div class="mb-6">
          <%= form.label :customer_email, class: label_class %>
          <div class="mt-1">
            <%= form.email_field :customer_email, class: input_class %>
          </div>
        </div>

        <div class="mb-6">
          <%= form.label :customer_address, class: label_class %>
          <div class="mt-1">
            <%= form.text_area :customer_address, rows: 3, class: input_class %>
          </div>
        </div>

        <div class="mb-6">
          <%= form.label :items_quoted, class: label_class %>
          <div class="mt-1">
            <%= form.text_area :items_quoted, size: "20x10", class: input_class %>
          </div>
        </div>

        <div class="mb-6">
          <%= form.label :quote_amount, class: label_class %>
          <div class="mt-1">
            <%= form.number_field :quote_amount, step: 0.01, placeholder: "$ 0.00", class: small_input_class %>
          </div>
        </div>

      <% end %>

      <!-- EDUCATOR -->
      <div class="mb-6">
        <%= form.label :netball_educator_id, class: label_class %>
        <div class="mt-1">
          <%= form.collection_select(:netball_educator_id, @netball_educators, :id, :reverse_name_school_state,
            { prompt: true },
            { class: "block w-full appearance-none rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-900 focus:outline-none focus:ring-blue-900 sm:text-sm" }) %>
        </div>
      </div>

      <!-- SUBMIT -->
      <div>
        <%= form.submit(
          equipment.sale? ? "Save Equipment Sale" : "Save Quote",
          class: form_button_class
        ) %>
      </div>

    <% end %>

  </div>
</div>